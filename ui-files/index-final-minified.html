<html><head><title>ESP8266 Interface</title><style>body{display:grid;grid-template-columns:3fr 1fr;grid-template-rows:3em 1fr;grid-template-areas:"header alarm" "container alarm";background-color:#eee;color:#004;font-size:1.5em;margin:0;overflow-y:hidden}h1{margin:0}.align-center{display:flex;align-items:center}.loader{margin:1em 2em;border-radius:50%;animation:spin 2s linear infinite}.loader-large{width:90px;height:90px;border:12px solid #f3f3f3;border-top:12px solid #3498db}.loader-medium{width:50px;height:50px;border:6px solid #f3f3f3;border-top:6px solid #3498db}.loader-small{width:20px;height:20px;border:3px solid #f3f3f3;border-top:3px solid #3498db;margin:0 1em}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}section#header{grid-area:header;display:flex;justify-content:center;align-items:center;padding-top:.5em}.header_logo{height:55%;padding-right:.5em}section#container{grid-area:container;display:grid;grid-template-rows:4em 1fr;height:calc(100vh - 3em - 1em);margin:.5em 2em}.container_tabs{display:flex;flex-direction:row;margin:1em 0}.container_tabs_el{display:flex;align-items:center;width:25%;font-size:.8em;border-bottom:1px solid #ccd;margin:0 .5em;padding:0 .5em}.container_tabs_el:hover{background-color:#ccd;cursor:pointer}.container_tabs_el--selected{border-bottom:5px solid #ccd}.container_tabs_icon{padding-right:.5em}.content{display:grid;grid-template-columns:1fr 1fr;padding-top:1em;overflow-y:auto}.content--hidden{display:none}.content_info--hide-measures>.measure{display:none}.measure{display:flex;flex-direction:column;margin-bottom:2em;font-size:1em}.measure:last-of-type{margin-bottom:0}.measure>label{font-size:18px}.measure_value{display:flex;align-items:center;font-size:1.5em;padding-left:1.5rem}.measure_value>.measure_value_units{font-size:20px;padding-left:.4em}.measure_comp{font-size:16px;padding-left:1.5rem}.measure_comp_timestamp{display:flex;align-items:center}.measure_comp_timestamp>svg{padding-right:5px}.measure--list{font-size:.7em}.measure--list ul{margin:0;padding-left:1.5em}.measure--list li{margin:.5em 0}.measure--list div{padding-left:0}.configuration{display:flex;flex-direction:column;margin-bottom:2em;padding-right:2em;font-size:1em}.configuration:last-of-type{margin-bottom:0}.configuration>label{font-size:18px}.configuration_current{font-size:.5em;padding-left:1.5rem}.configuration_current_value{font-size:2em;padding:0 .2em 0 .5em}.configuration_edit{display:flex;align-items:center;width:min(20em,50%);font-size:.5em;padding-left:1.5rem}.configuration_edit>button{margin-left:auto;padding:.5em 1em;background:#004;color:#eee;border:1px solid #ccd;border-radius:10px}.configuration_edit>button:hover{background:#ccd;color:#004;cursor:pointer}.configuration_edit--input>input{margin-right:.5em}.configuration_edit--select>select{margin:.5em 0;padding:.2em 1em}.configuration_comp{font-size:.5em;padding-left:1.5rem}.content#content_storage{grid-template-columns:2fr 5fr}.storage_nav{display:flex;flex-direction:column}.storage_nav_title{display:flex;flex-direction:row;justify-content:space-between}.storage_nav_delete{display:flex;color:#004;font-size:.8em;border:1px solid #004;border-radius:1em;margin-right:.5em;padding:.5em}.storage_nav_delete:hover{background:#004;color:#ccd;cursor:pointer}.storage_nav_delete:hover>svg{fill:#ccd}.storage_nav #storage_nav_list{margin:1em 0 0;padding-left:0;overflow-y:auto;list-style-type:none}.storage_nav_list_el{display:flex;align-items:center;border:1px solid #ccd;margin:0 1em .5em;padding:.25em 1em;font-size:.8em;cursor:pointer}.storage_nav_list_el>svg{padding-right:.5em}.storage_nav_list_el:hover{background:#ccd}.storage_nav_list_el--selected{border-right:5px solid #ccd}.storage_display{padding:2em .5em;border:1px solid #ccd;overflow-y:auto;font-family:monospace;font-size:.75em;white-space:pre-line;line-height:.6em}.storage_display--no-file{display:flex;justify-content:center;font-family:serif;font-size:1em}.storage_nav_list_el--selected:hover{cursor:default;background:#eee}section#alarm{height:calc(100vh - 4em);display:grid;grid-template-rows:4em repeat(2,8em);justify-content:center;justify-items:center;padding:2em 1em;background:#004;color:#eee}.alarm_block{display:flex;flex-direction:column;align-items:center;font-size:.8em}.alarm_block_led_outside{width:75px;height:75px;border-radius:75px;border:.35em double #ccd;margin:1em}.alarm_block_led_inside{width:50px;height:50px;border-radius:50px;margin:3px}.alarm_block_led_inside.alarm-on{background:#f36;border:.5em double #ccd}::-webkit-scrollbar{width:7px}::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:1em}::-webkit-scrollbar-thumb{background-color:#004;outline:1px solid #004;border-radius:1em;width:50%}</style><link href=https://freepngimg.com/download/technology/51071-7-microcontroller-hd-image-free-png.png rel=icon type=image/png></head><body><section id=header><img class=header_logo src=https://freepngimg.com/download/technology/51071-7-microcontroller-hd-image-free-png.png><h1>Weather Station</h1></section><section id=container><nav class=container_tabs><div class=container_tabs_el data-tab-id=temperature><svg fill=#004 height=32px viewBox="0 0 24 24"width=32px class=container_tabs_icon><path d="M0 0h24v24H0V0z"fill=none /><path d="M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1h-1v1h1v2h-1v1h1v2h-2V5z"/></svg> <span>Temperature</span></div><div class=container_tabs_el data-tab-id=humidity><svg fill=#004 height=32px viewBox="0 0 24 24"width=32px class=container_tabs_icon><rect fill=none height=24 width=24 /><path d="M12,2c-5.33,4.55-8,8.48-8,11.8c0,4.98,3.8,8.2,8,8.2s8-3.22,8-8.2C20,10.48,17.33,6.55,12,2z M12,20c-3.35,0-6-2.57-6-6.2 c0-2.34,1.95-5.44,6-9.14c4.05,3.7,6,6.79,6,9.14C18,17.43,15.35,20,12,20z M7.83,14c0.37,0,0.67,0.26,0.74,0.62 c0.41,2.22,2.28,2.98,3.64,2.87c0.43-0.02,0.79,0.32,0.79,0.75c0,0.4-0.32,0.73-0.72,0.75c-2.13,0.13-4.62-1.09-5.19-4.12 C7.01,14.42,7.37,14,7.83,14z"/></svg> <span>Humidity</span></div><div class=container_tabs_el data-tab-id=storage><svg fill=#004 height=32px viewBox="0 0 24 24"width=32px class=container_tabs_icon><path d="M0 0h24v24H0V0z"fill=none /><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></svg> <span>Storage</span></div></nav><section id=content_temperature class=content><div class="content_info content_info--hide-measures"><div class=measure><label>Current Value</label><div class=measure_value><span id=measure_temp_current></span> <span class=measure_value_units>ºC</span> <span class=loader_current></span></div><div class=measure_comp><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_temp_current_timestamp></span></div></div></div><div class="measure measure--list"><label>Last Mean Calculations</label><ul><li><div class=measure_value><span id=measure_temp_mean0></span> <span class=measure_value_units>ºC</span></div><div class=measure_comp><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_temp_mean0_timestamp></span></div></div><li><div class=measure_value><span id=measure_temp_mean1></span> <span class=measure_value_units>ºC</span></div><div class=measure_comp><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_temp_mean1_timestamp></span></div></div><li><div class=measure_value><span id=measure_temp_mean2></span> <span class=measure_value_units>ºC</span></div><div class=measure_comp><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_temp_mean2_timestamp></span></div></div></ul></div><div class="measure measure--list"><label>Record Measures</label><ul><li><div class=measure_value><span id=measure_temp_max></span> <span class=measure_value_units>ºC</span></div><div class=measure_comp><span>Highest temperature registered</span><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_temp_max_timestamp></span></div></div><li><div class=measure_value><span id=measure_temp_min></span> <span class=measure_value_units>ºC</span></div><div class=measure_comp><span>Lowest temperature registered</span><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_temp_min_timestamp></span></div></div></ul></div></div><div class=content_config><div class=configuration><label>Threshold value</label><div class=configuration_current><span>Currently set to:</span> <span class=configuration_current_value>30</span> <span class=measure_value_units>ºC</span></div><div class="configuration_edit configuration_edit--input"id=config_temp_threshold><input max=100 min=0 type=number> <span>ºC</span> <button>Submit</button></div></div><div class=configuration><label>Measurement Rate</label><div class=configuration_current><span>Currently set to:</span> <span class=configuration_current_value>5</span> <span>seconds</span></div><div class="configuration_edit configuration_edit--input"id=config_temp_rate><input max=100 min=0 type=number> <span>seconds</span> <button>Submit</button></div></div><div class=configuration><label>Display units</label><div class="configuration_edit configuration_edit--select"id=config_temp_units><select><option value=c>ºC (Celsius)<option value=f>ºF (Fahrenheit)<option value=k>K (Kelvin)</select></div><div class=configuration_comp><span><b>Note</b>: This only changes the displayed values; all values are normalized to "Celsius" for computational and storage purposes</span></div></div></div></section><section id=content_humidity class="content content--hidden"><div class="content_info content_info--hide-measures"><div class=measure><label>Current Value</label><div class=measure_value><span id=measure_humidity_current></span> <span class=measure_value_units>%</span> <span class=loader_current></span></div><div class=measure_comp><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_humidity_current_timestamp></span></div></div></div><div class="measure measure--list"><label>Last Mean Calculations</label><ul><li><div class=measure_value><span id=measure_humidity_mean0></span> <span class=measure_value_units>%</span></div><div class=measure_comp><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_humidity_mean0_timestamp></span></div></div><li><div class=measure_value><span id=measure_humidity_mean1></span> <span class=measure_value_units>%</span></div><div class=measure_comp><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_humidity_mean1_timestamp></span></div></div><li><div class=measure_value><span id=measure_humidity_mean2></span> <span class=measure_value_units>%</span></div><div class=measure_comp><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_humidity_mean2_timestamp></span></div></div></ul></div><div class="measure measure--list"><label>Record Measures</label><ul><li><div class=measure_value><span id=measure_humidity_max></span> <span class=measure_value_units>%</span></div><div class=measure_comp><span>Highest humidity registered</span><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_humidity_max_timestamp></span></div></div><li><div class=measure_value><span id=measure_humidity_min></span> <span class=measure_value_units>%</span></div><div class=measure_comp><span>Lowest humidity registered</span><div class=meaure_comp_timestamp><svg fill=#004 height=12px viewBox="0 0 24 24"width=12px><path d="M0 0h24v24H0V0z"fill=none /><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg> <span id=measure_humidity_min_timestamp></span></div></div></ul></div></div><div class=content_config><div class=configuration><label>Threshold value</label><div class=configuration_current><span>Currently set to:</span> <span class=configuration_current_value>50</span> <span>%</span></div><div class="configuration_edit configuration_edit--input"id=config_humi_threshold><input max=100 min=0 type=number> <span>%</span> <button>Submit</button></div></div><div class=configuration><label>Measurement Rate</label><div class=configuration_current><span>Currently set to:</span> <span class=configuration_current_value>5</span> <span>seconds</span></div><div class="configuration_edit configuration_edit--input"id=config_humi_rate><input max=100 min=0 type=number> <span>seconds</span> <button>Submit</button></div></div></div></section><section id=content_storage class="content content--hidden"><div class=storage_nav><div class=storage_nav_title><span class=align-center><b>Files in Storage</b></span><div class=storage_nav_delete id=storage_delete><span>Delete Flash</span> <svg fill=#004 height=24px viewBox="0 0 24 24"width=24px><path d="M0 0h24v24H0z"fill=none /><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg></div></div><ul id=storage_nav_list></ul></div><div class="storage_display storage_display--no-file"id=storage_display>Select a file to view its contents</div></section></section><section id=alarm><span>Alarms</span><div class=alarm_block><span>Temperature</span><div class=alarm_block_led_outside><div class="alarm_block_led_inside alarm-on"id=alarm_led_temp></div></div></div><div class=alarm_block><span>Humidity</span><div class=alarm_block_led_outside><div class=alarm_block_led_inside id=alarm_led_hum></div></div></div></section><script type="application/javascript">function getMeasurementValues(){const e={temperature:{current:{value:(10+20*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:51:33"},means:[{value:(10+20*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:51:08"},{value:(10+20*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:50:08"},{value:(10+20*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:49:08"}],recordMax:{value:(30+5*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:46:38"},recordMin:{value:(5+5*Math.random()).toFixed(1),timestamp:"08/06/2021 - 17:46:38"}},humidity:{current:{value:(30+30*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:51:33"},means:[{value:(30+30*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:51:08"},{value:(30+30*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:50:08"},{value:(30+30*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:49:08"}],recordMax:{value:(60+10*Math.random()).toFixed(1),timestamp:"09/06/2021 - 17:46:38"},recordMin:{value:(15+15*Math.random()).toFixed(1),timestamp:"08/06/2021 - 17:46:38"}}};return new Promise((t,n)=>{setTimeout(()=>{t(e)},1500)})}function getAllFilesFromStorage(){const e=["logs/alarms.log","logs/measures.log","logs/records.log","logs/wifi.log"];return new Promise((t,n)=>{setTimeout(()=>{t(e)},2e3)})}function getFileFromStorage(e){return new Promise((e,t)=>{setTimeout(()=>{e("\n            17/11/2021 09:36:20 > temperature alarm (value: 31.2 - threshold: 30.0)\n\n            17/11/2021 09:36:25 > temperature alarm (value: 30.6 - threshold: 30.0)\n\n            17/11/2021 09:36:30 > temperature alarm (value: 30.9 - threshold: 30.0)\n\n            17/11/2021 09:41:05 > temperature alarm (value: 30.2 - threshold: 30.0)\n\n        ")},2e3)})}async function deleteFlash(){const e={success:!0};return new Promise((t,n)=>{setTimeout(()=>{t(e)},4e3)})}const endpoints={getMeasurementValues:getMeasurementValues,getAllFilesFromStorage:getAllFilesFromStorage,getFileFromStorage:getFileFromStorage,deleteFlash:deleteFlash};function renderLoader(e){const t=document.createElement("div");return t.classList.add("loader"),t.classList.add(`loader-${e}`),t}let currentInterval=void 0,isFirstCall=!0,isAJAXCallInProgress=!1;async function renderMeasurementValues(){if(!isAJAXCallInProgress){let e;isAJAXCallInProgress=!0,isFirstCall?((e=document.getElementsByClassName("content_info"))[0].appendChild(renderLoader("large")),e[1].appendChild(renderLoader("large"))):((e=document.getElementsByClassName("loader_current"))[0].appendChild(renderLoader("small")),e[1].appendChild(renderLoader("small")));const t=await endpoints.getMeasurementValues();if(isFirstCall){for(let t=0;t<e.length;t++){e[t].classList.remove("content_info--hide-measures"),e[t].getElementsByClassName("loader")[0].remove()}isFirstCall=!1}else e[0].innerHTML="",e[1].innerHTML="";isAJAXCallInProgress=!1,renderTabMeasurements(t.temperature,"temp"),renderTabMeasurements(t.humidity,"humidity")}}function renderTabMeasurements(e,t){if(document.getElementById(`measure_${t}_current`).innerHTML=e.current.value,document.getElementById(`measure_${t}_current_timestamp`).innerHTML=e.current.timestamp,e.means&&e.means.forEach((e,n)=>{document.getElementById(`measure_${t}_mean${n}`).innerHTML=e.value,document.getElementById(`measure_${t}_mean${n}_timestamp`).innerHTML=e.timestamp}),e.recordMax){document.getElementById(`measure_${t}_max`).innerHTML=e.recordMax.value,document.getElementById(`measure_${t}_max_timestamp`).innerHTML=e.recordMax.timestamp}if(e.recordMin){document.getElementById(`measure_${t}_min`).innerHTML=e.recordMin.value,document.getElementById(`measure_${t}_min_timestamp`).innerHTML=e.recordMin.timestamp}}async function renderMeasurementConfig(){currentInterval=5}let poolingIntervalID=void 0;function defineMeasurementPooling(){poolingIntervalID=setInterval(renderMeasurementValues,1e3*currentInterval)}function onUpdateCurrentInterval(){currentInterval=Math.floor(10*Math.random()),clearInterval(poolingIntervalID),defineMeasurementPooling()}renderMeasurementValues(),renderMeasurementConfig(),defineMeasurementPooling();const fileIcon='\n        <svg height="18px" viewBox="0 0 24 24" width="18px" fill="#004">\n            <path d="M0 0h24v24H0V0z" fill="none"/>\n            <path d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/>\n        </svg>\n    ';async function onFetchStorageFiles(){const e=document.getElementById("storage_nav_list");e.appendChild(renderLoader("medium"));const t=await endpoints.getAllFilesFromStorage();e.innerHTML="",t.forEach(t=>{const n=document.createElement("li");n.classList.add("storage_nav_list_el"),n.setAttribute("name",t),n.innerHTML=fileIcon+t,n.addEventListener("click",onFetchFileContent),e.appendChild(n)})}async function onFetchFileContent(e){const t=e.currentTarget;if(!t.classList.contains("storage_nav_list_el--selected")){const e=document.getElementById("storage_nav_list");for(let t=0;t<e.children.length;t++)e.children[t].classList.remove("storage_nav_list_el--selected");t.classList.add("storage_nav_list_el--selected");const n=document.getElementById("storage_display");n.innerHTML="",n.appendChild(renderLoader("medium")),n.classList.add("storage_display--no-file");const a=t.getAttribute("name"),r=await endpoints.getFileFromStorage(a);n.innerHTML="",n.classList.remove("storage_display--no-file"),n.innerHTML=r}}function onMountStorage(){const e=document.getElementById("storage_display");e.innerHTML="Select a file to view its contents",e.classList.add("storage_display--no-file"),document.getElementById("storage_nav_list").innerHTML="",onFetchStorageFiles()}async function onStorageDelete(){if(confirm("Are you sure you want to delete the entire flash?")){const e=document.getElementById("storage_nav_list");e.appendChild(renderLoader("medium")),await endpoints.deleteFlash(),e.innerHTML="",await onFetchStorageFiles()}}const storageDeleteEl=document.getElementById("storage_delete");storageDeleteEl.addEventListener("click",onStorageDelete);const localStorage=window.localStorage,LOCAL_STORAGE_KEY_TAB="WEATHER_STATION_TAB",tabButtons={temperature:document.querySelector("[data-tab-id=temperature]"),humidity:document.querySelector("[data-tab-id=humidity]"),storage:document.querySelector("[data-tab-id=storage]")},tabContents={temperature:document.querySelector("#content_temperature"),humidity:document.querySelector("#content_humidity"),storage:document.querySelector("#content_storage")};function onMountTab(e){switch(e){case"storage":onMountStorage()}}function setTab(e){Object.keys(tabContents).forEach(t=>{t===e?(tabContents[t].classList.remove("content--hidden"),tabButtons[t].classList.add("container_tabs_el--selected")):(tabContents[t].classList.add("content--hidden"),tabButtons[t].classList.remove("container_tabs_el--selected"))}),localStorage.setItem(LOCAL_STORAGE_KEY_TAB,e),onMountTab(e)}function onInit(){let e=localStorage.getItem(LOCAL_STORAGE_KEY_TAB);null===e&&(e="temperature"),setTab(e)}tabButtons.temperature.onclick=function(){setTab("temperature")},tabButtons.humidity.onclick=function(){setTab("humidity")},tabButtons.storage.onclick=function(){setTab("storage")},onInit();</script></body></html>